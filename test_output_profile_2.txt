
> skyquest@1.0.0 test
> jest src/utils/__tests__/ProfileScreen.test.tsx

  console.error
    An update to ProfileScreen inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 65 |[39m                     text[33m:[39m [32m"Evet"[39m[33m,[39m
     [90m 66 |[39m                     onPress[33m:[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 67 |[39m                         setIsLoading([36mtrue[39m)[33m;[39m
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 68 |[39m                         [36mtry[39m {
     [90m 69 |[39m                             [90m// Ensure user session is fresh[39m
     [90m 70 |[39m                             [36mawait[39m user[33m.[39mreload()[33m;[39m[0m

      at node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11801:19
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1574:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11800:9)
      at scheduleUpdateOnFiber (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10326:9)
      at dispatchSetStateInternal (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:4148:13)
      at dispatchSetState (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:4107:7)
      at Object.setIsLoading (src/screens/ProfileScreen.tsx:67:25)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)
      at Object.apply [as onPress] (src/screens/ProfileScreen.tsx:66:28)
      at Object.onPress (src/utils/__tests__/ProfileScreen.test.tsx:109:25)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)

  console.error
    An update to ProfileScreen inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 105 |[39m                                 [33mAlert[39m[33m.[39malert([32m"Baâ”¼ÅŸarâ”€â–’lâ”€â–’"[39m[33m,[39m [32m"Profiliniz gâ”œâ•ncellendi."[39m)[33m;[39m
     [90m 106 |[39m                             }
    [31m[1m>[22m[39m[90m 107 |[39m                             setPassword([32m''[39m)[33m;[39m [90m// Clear password field[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 108 |[39m                         } [36mcatch[39m (error[33m:[39m any) {
     [90m 109 |[39m                             console[33m.[39merror([32m"Profile update error:"[39m[33m,[39m error)[33m;[39m
     [90m 110 |[39m                             [36mlet[39m errorMessage [33m=[39m [32m"Profil gâ”œâ•ncellenirken bir hata oluâ”¼ÅŸtu."[39m[33m;[39m[0m

      at node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11801:19
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1574:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11800:9)
      at scheduleUpdateOnFiber (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10326:9)
      at dispatchSetStateInternal (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:4148:13)
      at dispatchSetState (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:4107:7)
      at Object.setPassword (src/screens/ProfileScreen.tsx:107:29)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)

  console.error
    An update to ProfileScreen inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 120 |[39m                             [33mAlert[39m[33m.[39malert([32m"Hata"[39m[33m,[39m errorMessage)[33m;[39m
     [90m 121 |[39m                         } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 122 |[39m                             setIsLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 123 |[39m                         }
     [90m 124 |[39m                     }
     [90m 125 |[39m                 }[0m

      at node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11801:19
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1574:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11800:9)
      at scheduleUpdateOnFiber (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10326:9)
      at dispatchSetStateInternal (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:4148:13)
      at dispatchSetState (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:4107:7)
      at Object.setIsLoading (src/screens/ProfileScreen.tsx:122:29)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)

  console.error
    An update to ProfileScreen inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 65 |[39m                     text[33m:[39m [32m"Evet"[39m[33m,[39m
     [90m 66 |[39m                     onPress[33m:[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 67 |[39m                         setIsLoading([36mtrue[39m)[33m;[39m
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 68 |[39m                         [36mtry[39m {
     [90m 69 |[39m                             [90m// Ensure user session is fresh[39m
     [90m 70 |[39m                             [36mawait[39m user[33m.[39mreload()[33m;[39m[0m

      at node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11801:19
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1574:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11800:9)
      at scheduleUpdateOnFiber (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10326:9)
      at dispatchSetStateInternal (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:4148:13)
      at dispatchSetState (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:4107:7)
      at Object.setIsLoading (src/screens/ProfileScreen.tsx:67:25)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)
      at node_modules/@babel/runtime/helpers/asyncToGenerator.js:22:7
      at Object.<anonymous> (node_modules/@babel/runtime/helpers/asyncToGenerator.js:14:12)
      at Object.apply [as onPress] (src/screens/ProfileScreen.tsx:66:28)
      at Object.onPress (src/utils/__tests__/ProfileScreen.test.tsx:136:26)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)

  console.error
    An update to ProfileScreen inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 105 |[39m                                 [33mAlert[39m[33m.[39malert([32m"Baâ”¼ÅŸarâ”€â–’lâ”€â–’"[39m[33m,[39m [32m"Profiliniz gâ”œâ•ncellendi."[39m)[33m;[39m
     [90m 106 |[39m                             }
    [31m[1m>[22m[39m[90m 107 |[39m                             setPassword([32m''[39m)[33m;[39m [90m// Clear password field[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 108 |[39m                         } [36mcatch[39m (error[33m:[39m any) {
     [90m 109 |[39m                             console[33m.[39merror([32m"Profile update error:"[39m[33m,[39m error)[33m;[39m
     [90m 110 |[39m                             [36mlet[39m errorMessage [33m=[39m [32m"Profil gâ”œâ•ncellenirken bir hata oluâ”¼ÅŸtu."[39m[33m;[39m[0m

      at node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11801:19
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1574:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11800:9)
      at scheduleUpdateOnFiber (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10326:9)
      at dispatchSetStateInternal (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:4148:13)
      at dispatchSetState (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:4107:7)
      at Object.setPassword (src/screens/ProfileScreen.tsx:107:29)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)

  console.error
    An update to ProfileScreen inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 120 |[39m                             [33mAlert[39m[33m.[39malert([32m"Hata"[39m[33m,[39m errorMessage)[33m;[39m
     [90m 121 |[39m                         } [36mfinally[39m {
    [31m[1m>[22m[39m[90m 122 |[39m                             setIsLoading([36mfalse[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 123 |[39m                         }
     [90m 124 |[39m                     }
     [90m 125 |[39m                 }[0m

      at node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11801:19
      at runWithFiberInDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:1574:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11800:9)
      at scheduleUpdateOnFiber (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:10326:9)
      at dispatchSetStateInternal (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:4148:13)
      at dispatchSetState (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:4107:7)
      at Object.setIsLoading (src/screens/ProfileScreen.tsx:122:29)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)

FAIL src/utils/__tests__/ProfileScreen.test.tsx
  Profil Ekranâ”€â–’ (ProfileScreen) Testleri
    Ã”ÃªÃœ Mevcut kullanâ”€â–’câ”€â–’ bilgileri ekrana gelmeli (603 ms)
    â”œÃ¹ â”€â–‘sim deâ”€ÅŸiâ”¼ÅŸikliâ”€ÅŸi yapâ”€â–’p kaydedince updateProfile â”œÄŸaâ”€ÅŸrâ”€â–’lmalâ”€â–’ (63 ms)
    Ã”ÃªÃœ â”¼Åžifre girilirse updatePassword â”œÄŸaâ”€ÅŸrâ”€â–’lmalâ”€â–’ (31 ms)

  Ã”Ã¹Ã… Profil Ekranâ”€â–’ (ProfileScreen) Testleri Ã”Ã‡â•‘ â”€â–‘sim deâ”€ÅŸiâ”¼ÅŸikliâ”€ÅŸi yapâ”€â–’p kaydedince updateProfile â”œÄŸaâ”€ÅŸrâ”€â–’lmalâ”€â–’

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

    - Anything,
    + undefined,
      {"displayName": "Yeni â”€â–‘sim"},
      {"merge": true},

    Number of calls: 1

      116 |
      117 |         // Firestore'a da yazâ”€â–’ldâ”€â–’ mâ”€â–’?
    > 118 |         expect(setDoc).toHaveBeenCalledWith(
          |                        ^
      119 |             expect.anything(),
      120 |             expect.objectContaining({ displayName: 'Yeni â”€â–‘sim' }),
      121 |             { merge: true }

      at Object.toHaveBeenCalledWith (src/utils/__tests__/ProfileScreen.test.tsx:118:24)
      at asyncGeneratorStep (node_modules/@babel/runtime/helpers/asyncToGenerator.js:3:17)
      at _next (node_modules/@babel/runtime/helpers/asyncToGenerator.js:17:9)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 2 passed, 3 total
Snapshots:   0 total
Time:        3.891 s, estimated 6 s
Ran all test suites matching /src\\utils\\__tests__\\ProfileScreen.test.tsx/i.
